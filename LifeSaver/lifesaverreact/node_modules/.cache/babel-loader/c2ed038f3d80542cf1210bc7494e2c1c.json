{"ast":null,"code":"var _jsxFileName = \"F:\\\\GitHub\\\\Enterprise-Application-Development-Project\\\\LifeSaver\\\\lifesaverreact\\\\src\\\\App.js\";\nimport React from 'react';\nimport UserStorage from './stored/UserStorage';\nimport LoginForm from './LoginForm';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './App.css';\n\nclass App extends React.Component {\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStorage.loading = false;\n        UserStorage.isLogged = true;\n        UserStorage.username = result.username;\n      } else {\n        UserStorage.loading = false;\n        UserStorage.isLoggedIn = false;\n      }\n    } catch (e) {\n      UserStorage.loading = false;\n      UserStorage.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try {\n      let res = await fetch('/logout', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStorage.isLoggedIn = false;\n        UserStorage.username = '';\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    if (UserStorage.loading) {\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Loading, please wait..\"));\n    } else {\n      if (UserStorage.isLoggedIn) {\n        return React.createElement(\"div\", {\n          className: \"app\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Welcome \", UserStorage.username, React.createElement(SubmitButton, {\n          text: 'Log Out',\n          disabled: false,\n          OnClick: () => this.doLogout(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })));\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(LoginForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["F:/GitHub/Enterprise-Application-Development-Project/LifeSaver/lifesaverreact/src/App.js"],"names":["React","UserStorage","LoginForm","InputField","SubmitButton","App","Component","componentDidMount","res","fetch","method","headers","result","json","success","loading","isLogged","username","isLoggedIn","e","doLogout","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserStorage from './stored/UserStorage';\nimport LoginForm from './LoginForm';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './App.css';\nclass App extends React.Component{\n\n  async componentDidMount(){\n\n    try {\n\n      let res = await fetch('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept' : 'application/json',\n          'Content-type' : 'application/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success){\n        UserStorage.loading = false;\n        UserStorage.isLogged = true;\n        UserStorage.username = result.username;\n      }\n\n      else {\n        UserStorage.loading = false;\n        UserStorage.isLoggedIn = false;\n      }\n\n    }\n\n    catch(e){\n      UserStorage.loading = false;\n      UserStorage.isLoggedIn = false;\n    }\n\n  }\n\n  async doLogout(){\n\n    try {\n\n      let res = await fetch('/logout', {\n        method: 'post',\n        headers: {\n          'Accept' : 'application/json',\n          'Content-type' : 'application/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success){\n        UserStorage.isLoggedIn = false;\n        UserStorage.username = '';\n      }\n    }\n\n    catch(e){\n      console.log(e)\n    }\n\n  }\n  render() {\n\n    if (UserStorage.loading) {\n      return (\n        <div className=\"app\">\n          <div className=\"container\">\n            Loading, please wait..\n          </div>\n        </div>\n      );\n    }\n\n    else {\n      if (UserStorage.isLoggedIn) {\n        return (\n          <div className=\"app\">\n            <div className=\"container\">\n              Welcome {UserStorage.username}\n\n              <SubmitButton\n                text={'Log Out'}\n                disabled={false}\n                OnClick={() => this.doLogout() }\n              />\n            </div>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"app\">\n        <div className=\"container\">\n          <LoginForm\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}